{"ast":null,"code":"import _slicedToArray from \"/home/maga/Desktop/hackatone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/maga/Desktop/hackatone/src/components/Products/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from '../Header'; // import Clientname from './Cliente';\n\nimport Products from './Products';\nimport Pedido from './Pedido';\nimport MenuOpts from '../Options';\nimport postOrders from '../../controller/orders/orders';\nimport ctrl from '../../controller/products';\nimport { Catalogue } from './Catalogue';\n\nconst Home = props => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState('ESIKA'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        type = _useState4[0],\n        setType = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        prodData = _useState6[0],\n        setProdData = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        items = _useState8[0],\n        setItems = _useState8[1];\n\n  const _useState9 = useState(true),\n        _useState10 = _slicedToArray(_useState9, 2),\n        show = _useState10[0],\n        setShow = _useState10[1];\n\n  const updateName = e => {\n    setName(e.target.value);\n  };\n\n  const mapFunc = fn => id => {\n    setItems(fn(items, id));\n  };\n\n  const increase = mapFunc(ctrl.increase);\n  const decrease = mapFunc(ctrl.decrease);\n  const remove = mapFunc(ctrl.delete);\n\n  const userId = JSON.parse(localStorage.getItem('user'))._id;\n\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    fetch(\"http://165.22.166.131:4000/products\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(resp => resp.json()).then(data => {\n      // console.log(data)\n      setProdData(data);\n    });\n  }, []);\n\n  const handlerSetEsika = () => {\n    setType('ESIKA');\n  };\n\n  const handlerSetCyzone = () => {\n    setType('CYZONE');\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Header, {\n    logoutprop: props,\n    handlerE: handlerSetEsika,\n    handlerC: handlerSetCyzone,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(\"main\", {\n    id: \"menu\",\n    className: \"container-fluid d-flex flex-wrap align-content-around\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"S\", React.createElement(\"div\", {\n    \"data-testid\": \"opt\",\n    className: \"card-columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, type === 'ESIKA' && React.createElement(Products, {\n    data: prodData,\n    brand: \"ESIKA\",\n    add: increase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), type === 'CYZONE' && React.createElement(Products, {\n    data: prodData,\n    brand: \"CYZONE\",\n    add: increase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }))), React.createElement(Pedido, {\n    items: ctrl.mix(prodData, items),\n    remove: remove,\n    decrease: decrease,\n    increase: increase,\n    postOrder: () => {\n      postOrders(name, items.map(el => ({\n        product: el._id,\n        qty: el.qty\n      })), token, userId).then(order => {\n        console.log(order);\n        setItems([]);\n        setName(\"\");\n        setShow(true);\n      }).catch(console.error);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/maga/Desktop/hackatone/src/components/Products/index.js"],"names":["React","useState","useEffect","Header","Products","Pedido","MenuOpts","postOrders","ctrl","Catalogue","Home","props","name","setName","type","setType","prodData","setProdData","items","setItems","show","setShow","updateName","e","target","value","mapFunc","fn","id","increase","decrease","remove","delete","userId","JSON","parse","localStorage","getItem","_id","token","fetch","method","headers","then","resp","json","data","handlerSetEsika","handlerSetCyzone","mix","map","el","product","qty","order","console","log","catch","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from '../Header';\n// import Clientname from './Cliente';\nimport Products from './Products';\nimport Pedido from './Pedido'\nimport MenuOpts from '../Options';\nimport postOrders from '../../controller/orders/orders'\nimport ctrl from '../../controller/products';\nimport { Catalogue } from './Catalogue';\n\nconst Home = (props) => {\n  const [name, setName] = useState('');\n  const [type, setType] = useState('ESIKA')\n  const [prodData, setProdData] = useState([]);\n  const [items, setItems] = useState([]);\n  const [show, setShow] = useState(true)\n\n  const updateName = (e) => {\n    setName(e.target.value)\n  }\n\n  const mapFunc = (fn) => (id) => {\n    setItems(fn(items, id))\n  }\n\n  const increase = mapFunc(ctrl.increase)\n  const decrease = mapFunc(ctrl.decrease)\n  const remove = mapFunc(ctrl.delete)\n  const userId = JSON.parse(localStorage.getItem('user'))._id;\n  const token = localStorage.getItem('token')\n\n  useEffect(() => {\n    fetch(`http://165.22.166.131:4000/products`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      },\n    }).then(resp => resp.json())\n      .then(data => {\n        // console.log(data)\n        setProdData(data)\n      })\n  }, [])\n\n  \n  const handlerSetEsika = () => {\n    setType('ESIKA')\n  }\n\n  const handlerSetCyzone = () => {\n    setType('CYZONE')\n  }\n  \n  return (\n    <>\n      <Header logoutprop={props} handlerE={handlerSetEsika} handlerC={handlerSetCyzone} />\n      <main id=\"menu\" className=\"container-fluid d-flex flex-wrap align-content-around\">\n        {/* <Clientname name={name} updateName={updateName} show={show} setShow={setShow} /> */}\n        <section className=\"row\">\n        {/* <Catalogue /> */}\n          <div className=\"col-md-6\">\n            S\n            {/* <ul className=\"nav nav-tabs w-100\" role=\"tablist\">\n             \n            </ul> */}\n            <div data-testid='opt' className=\"card-columns\">\n              {type === 'ESIKA' && (\n                <Products  data={prodData} brand=\"ESIKA\" add={increase} />\n              )}\n              {type === 'CYZONE' && (\n                <Products  data={prodData} brand=\"CYZONE\" add={increase} />\n              )}\n            </div>\n          </div>\n          \n\n          <Pedido\n            items={ctrl.mix(prodData, items)}\n            remove={remove} decrease={decrease}\n            increase={increase}\n            postOrder={() => {\n              postOrders(name,\n                items.map(el => ({ product: el._id, qty: el.qty })),\n                token,\n                userId)\n                .then((order) => {\n                  console.log(order)\n                  setItems([]);\n                  setName(\"\");\n                  setShow(true)\n                })\n                .catch(console.error)\n            }} />\n        </section>\n\n      </main>\n    </>\n  )\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}