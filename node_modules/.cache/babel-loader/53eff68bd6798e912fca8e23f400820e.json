{"ast":null,"code":"import _slicedToArray from \"/home/maga/Desktop/hackatone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/maga/Desktop/hackatone/src/components/Products/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from '../Header';\nimport Clientname from './Cliente';\nimport Direccion from './Address';\nimport Products from './Products';\nimport Pedido from './Pedido';\nimport postOrders from '../../controller/orders/orders';\nimport ctrl from '../../controller/products';\nimport { Slider } from './Slideshow';\n\nconst Home = props => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        address = _useState4[0],\n        setAddress = _useState4[1];\n\n  const _useState5 = useState('ESIKA'),\n        _useState6 = _slicedToArray(_useState5, 2),\n        type = _useState6[0],\n        setType = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        prodData = _useState8[0],\n        setProdData = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        items = _useState10[0],\n        setItems = _useState10[1];\n\n  const _useState11 = useState(true),\n        _useState12 = _slicedToArray(_useState11, 2),\n        show = _useState12[0],\n        setShow = _useState12[1];\n\n  const updateName = e => {\n    setName(e.target.value);\n  };\n\n  const updateAddress = e => {\n    setAddress(e.target.value);\n  };\n\n  const mapFunc = fn => id => {\n    setItems(fn(items, id));\n  };\n\n  const increase = mapFunc(ctrl.increase);\n  const decrease = mapFunc(ctrl.decrease);\n  const remove = mapFunc(ctrl.delete);\n\n  const userId = JSON.parse(localStorage.getItem('user'))._id;\n\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    fetch(\"http://165.22.166.131:4000/products\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(resp => resp.json()).then(data => {\n      setProdData(data);\n    });\n  }, []);\n\n  const handlerSetEsika = () => {\n    setType('ESIKA');\n  };\n\n  const handlerSetCyzone = () => {\n    setType('CYZONE');\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Header, {\n    logoutprop: props,\n    handlerE: handlerSetEsika,\n    handlerC: handlerSetCyzone,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"main\", {\n    id: \"menu\",\n    className: \"container-fluid d-flex flex-wrap align-content-around\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Clientname, {\n    name: name,\n    updateName: updateName,\n    show: show,\n    setShow: setShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(Direccion, {\n    name: address,\n    updateAddress: updateAddress,\n    show: show,\n    setShow: setShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(\"section\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Slider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    \"data-testid\": \"opt\",\n    className: \"card-columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, type === 'ESIKA' && React.createElement(Products, {\n    data: prodData,\n    brand: \"ESIKA\",\n    add: increase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), type === 'CYZONE' && React.createElement(Products, {\n    data: prodData,\n    brand: \"CYZONE\",\n    add: increase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(Pedido, {\n    items: ctrl.mix(prodData, items),\n    remove: remove,\n    decrease: decrease,\n    increase: increase,\n    postOrder: () => {\n      postOrders(name, address, items.map(el => ({\n        product: el._id,\n        qty: el.qty\n      })), token, userId).then(order => {\n        console.log(order);\n        setItems([]);\n        setName(\"\");\n        setAddress(\"\");\n        setShow(true);\n      }).catch(console.error);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/maga/Desktop/hackatone/src/components/Products/index.js"],"names":["React","useState","useEffect","Header","Clientname","Direccion","Products","Pedido","postOrders","ctrl","Slider","Home","props","name","setName","address","setAddress","type","setType","prodData","setProdData","items","setItems","show","setShow","updateName","e","target","value","updateAddress","mapFunc","fn","id","increase","decrease","remove","delete","userId","JSON","parse","localStorage","getItem","_id","token","fetch","method","headers","then","resp","json","data","handlerSetEsika","handlerSetCyzone","mix","map","el","product","qty","order","console","log","catch","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from '../Header';\nimport Clientname from './Cliente';\nimport Direccion from './Address'\nimport Products from './Products';\nimport Pedido from './Pedido'\nimport postOrders from '../../controller/orders/orders'\nimport ctrl from '../../controller/products';\nimport { Slider } from './Slideshow';\n\nconst Home = (props) => {\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [type, setType] = useState('ESIKA')\n  const [prodData, setProdData] = useState([]);\n  const [items, setItems] = useState([]);\n  const [show, setShow] = useState(true)\n\n  const updateName = (e) => {\n    setName(e.target.value)\n  }\n  const updateAddress = (e) => {\n    setAddress(e.target.value)\n  }\n\n  const mapFunc = (fn) => (id) => {\n    setItems(fn(items, id))\n  }\n\n  const increase = mapFunc(ctrl.increase)\n  const decrease = mapFunc(ctrl.decrease)\n  const remove = mapFunc(ctrl.delete)\n  const userId = JSON.parse(localStorage.getItem('user'))._id;\n  const token = localStorage.getItem('token')\n\n  useEffect(() => {\n    fetch(`http://165.22.166.131:4000/products`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      },\n    }).then(resp => resp.json())\n      .then(data => {\n        setProdData(data)\n      })\n  }, [])\n\n  \n  const handlerSetEsika = () => {\n    setType('ESIKA')\n  }\n\n  const handlerSetCyzone = () => {\n    setType('CYZONE')\n  }\n  \n  return (\n    <>\n      <Header logoutprop={props} handlerE={handlerSetEsika} handlerC={handlerSetCyzone} />\n      <main id=\"menu\" className=\"container-fluid d-flex flex-wrap align-content-around\">\n      <Clientname name={name} updateName={updateName} show={show} setShow={setShow} />\n        <Direccion name={address} updateAddress={updateAddress} show={show} setShow={setShow} />\n\n        <section className=\"row\">\n          <div className=\"col-md-6\">\n            <Slider />\n            {/* <ul className=\"nav nav-tabs w-100\" role=\"tablist\">\n             \n            </ul> */}\n            <div data-testid='opt' className=\"card-columns\">\n              {type === 'ESIKA' && (\n                <Products  data={prodData} brand=\"ESIKA\" add={increase} />\n              )}\n              {type === 'CYZONE' && (\n                <Products  data={prodData} brand=\"CYZONE\" add={increase} />\n              )}\n            </div>\n          </div>\n          \n          <div>\n          <Pedido\n            items={ctrl.mix(prodData, items)}\n            remove={remove} decrease={decrease}\n            increase={increase}\n            postOrder={() => {\n              postOrders(name,\n                address,\n                items.map(el => ({ product: el._id, qty: el.qty })),\n                token,\n                userId)\n                .then((order) => {\n                  console.log(order)\n                  setItems([]);\n                  setName(\"\");\n                  setAddress(\"\");\n                  setShow(true)\n                })\n                .catch(console.error)\n            }} />\n\n          </div>\n          \n        </section>\n\n      </main>\n    </>\n  )\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}