{"ast":null,"code":"import _defineProperty from \"/home/maga/Desktop/hackatone/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nconst controllProds = {\n  'delete': (arr, id) => arr.filter(p => p._id !== id),\n  increase: (arr, id) => {\n    if (arr.map(p => p._id).includes(id)) {\n      return arr.map(el => {\n        if (el._id === id) {\n          return {\n            _id: id,\n            qty: el.qty + 1\n          };\n        }\n\n        return el;\n      });\n    }\n\n    return [...arr, {\n      _id: id,\n      qty: 1\n    }];\n  },\n  decrease: (arr, id) => {\n    if (arr.filter(p => p.qty > 1).map(p => p._id).includes(id)) {\n      return arr.map(el => {\n        if (el._id === id) {\n          return {\n            _id: id,\n            qty: el.qty - 1\n          };\n        }\n\n        return el;\n      });\n    }\n\n    return controllProds.delete(arr, id);\n  },\n  mix: (arrData, arrCant) => {\n    const newArr = [];\n    arrData.forEach(el1 => arrCant.forEach(el2 => {\n      if (el1._id === el2._id) {\n        newArr.push(_objectSpread({}, el1, {\n          qty: el2.qty,\n          total: el2.qty * el1.price\n        }));\n      }\n    }));\n    return newArr;\n  }\n};\nexport default controllProds;","map":{"version":3,"sources":["/home/maga/Desktop/hackatone/src/controller/products.js"],"names":["controllProds","arr","id","filter","p","_id","increase","map","includes","el","qty","decrease","delete","mix","arrData","arrCant","newArr","forEach","el1","el2","push","total","price"],"mappings":";;;;;;AAAA,MAAMA,aAAa,GAAG;AACpB,YAAU,CAACC,GAAD,EAAMC,EAAN,KAAaD,GAAG,CAACE,MAAJ,CAAWC,CAAC,IAAIA,CAAC,CAACC,GAAF,KAAUH,EAA1B,CADH;AAEpBI,EAAAA,QAAQ,EAAE,CAACL,GAAD,EAAMC,EAAN,KAAa;AACrB,QAAID,GAAG,CAACM,GAAJ,CAAQH,CAAC,IAAIA,CAAC,CAACC,GAAf,EAAoBG,QAApB,CAA6BN,EAA7B,CAAJ,EAAsC;AACpC,aAAOD,GAAG,CAACM,GAAJ,CAASE,EAAD,IAAQ;AACrB,YAAIA,EAAE,CAACJ,GAAH,KAAWH,EAAf,EAAmB;AACjB,iBAAO;AAAEG,YAAAA,GAAG,EAAEH,EAAP;AAAWQ,YAAAA,GAAG,EAAED,EAAE,CAACC,GAAH,GAAS;AAAzB,WAAP;AACD;;AACD,eAAOD,EAAP;AACD,OALM,CAAP;AAMD;;AACD,WAAO,CACL,GAAGR,GADE,EAEL;AAAEI,MAAAA,GAAG,EAAEH,EAAP;AAAWQ,MAAAA,GAAG,EAAE;AAAhB,KAFK,CAAP;AAID,GAfmB;AAgBpBC,EAAAA,QAAQ,EAAE,CAACV,GAAD,EAAMC,EAAN,KAAa;AACrB,QAAID,GAAG,CAACE,MAAJ,CAAWC,CAAC,IAAIA,CAAC,CAACM,GAAF,GAAQ,CAAxB,EAA2BH,GAA3B,CAA+BH,CAAC,IAAIA,CAAC,CAACC,GAAtC,EAA2CG,QAA3C,CAAoDN,EAApD,CAAJ,EAA6D;AAC3D,aAAOD,GAAG,CAACM,GAAJ,CAASE,EAAD,IAAQ;AACrB,YAAIA,EAAE,CAACJ,GAAH,KAAWH,EAAf,EAAmB;AACjB,iBAAO;AAAEG,YAAAA,GAAG,EAAEH,EAAP;AAAWQ,YAAAA,GAAG,EAAED,EAAE,CAACC,GAAH,GAAS;AAAzB,WAAP;AACD;;AACD,eAAOD,EAAP;AACD,OALM,CAAP;AAMD;;AACD,WAAOT,aAAa,CAACY,MAAd,CAAqBX,GAArB,EAA0BC,EAA1B,CAAP;AACD,GA1BmB;AA2BpBW,EAAAA,GAAG,EAAE,CAACC,OAAD,EAAUC,OAAV,KAAsB;AACzB,UAAMC,MAAM,GAAG,EAAf;AACAF,IAAAA,OAAO,CAACG,OAAR,CAAiBC,GAAD,IAASH,OAAO,CAACE,OAAR,CAAiBE,GAAD,IAAS;AAChD,UAAID,GAAG,CAACb,GAAJ,KAAYc,GAAG,CAACd,GAApB,EAAyB;AACvBW,QAAAA,MAAM,CAACI,IAAP,mBAAiBF,GAAjB;AAAsBR,UAAAA,GAAG,EAAES,GAAG,CAACT,GAA/B;AAAoCW,UAAAA,KAAK,EAAEF,GAAG,CAACT,GAAJ,GAAUQ,GAAG,CAACI;AAAzD;AACD;AACF,KAJwB,CAAzB;AAMA,WAAON,MAAP;AACD;AApCmB,CAAtB;AAuCA,eAAehB,aAAf","sourcesContent":["const controllProds = {\n  'delete': (arr, id) => arr.filter(p => p._id !== id),\n  increase: (arr, id) => {\n    if (arr.map(p => p._id).includes(id)) {\n      return arr.map((el) => {\n        if (el._id === id) {\n          return { _id: id, qty: el.qty + 1 }\n        }\n        return el\n      })\n    }\n    return [\n      ...arr,\n      { _id: id, qty: 1 },\n    ]\n  },\n  decrease: (arr, id) => {\n    if (arr.filter(p => p.qty > 1).map(p => p._id).includes(id)) {\n      return arr.map((el) => {\n        if (el._id === id) {\n          return { _id: id, qty: el.qty - 1 }\n        }\n        return el\n      })\n    }\n    return controllProds.delete(arr, id)\n  },\n  mix: (arrData, arrCant) => {\n    const newArr = []\n    arrData.forEach((el1) => arrCant.forEach((el2) => {\n      if (el1._id === el2._id) {\n        newArr.push({ ...el1, qty: el2.qty, total: el2.qty * el1.price })\n      }\n    })\n    )\n    return newArr;\n  }\n}\n\nexport default controllProds;"]},"metadata":{},"sourceType":"module"}