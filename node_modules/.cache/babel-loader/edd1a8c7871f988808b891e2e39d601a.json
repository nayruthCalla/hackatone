{"ast":null,"code":"import _slicedToArray from \"/home/maga/Desktop/hackatone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/maga/Desktop/hackatone/src/components/Cocina/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from '../Header';\nimport OrderCard from './order-card';\nimport Options from '../Options';\nimport getOrders from '../../controller/orders/getOrder';\nconst user = JSON.parse(localStorage.getItem('user'));\n\nconst Pedidos = props => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        orders = _useState2[0],\n        setOrders = _useState2[1];\n\n  const _useState3 = useState('pending'),\n        _useState4 = _slicedToArray(_useState3, 2),\n        type = _useState4[0],\n        setType = _useState4[1];\n\n  useEffect(() => {\n    const interval = () => {\n      getOrders(localStorage.getItem('token'), user._id).then(data => {\n        console.log(data);\n        setOrders(data);\n      });\n    };\n\n    interval();\n    const processId = setInterval(interval, 2000);\n    return () => clearInterval(processId);\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(Header, {\n    logoutprop: props,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"w-100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"nav nav-tabs w-100\",\n    role: \"tablist\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(Options, {\n    click: () => setType('pending'),\n    options: \"Pendientes\",\n    aClass: \"nav-link active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(Options, {\n    click: () => setType('delivered'),\n    options: \"Entregados\",\n    aClass: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  })), React.createElement(\"section\", {\n    \"data-testid\": \"opt\",\n    className: \"row w-100 justify-content-between\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, orders.length === 0 && React.createElement(\"div\", {\n    className: \"mt-5 w-100 text-align\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"No hay \\xF3rdenes pendientes.\"), orders.length !== 0 && orders.map(el => {\n    if ((el.status === 'pending' || el.status === 'canceled') && type === 'pending') {\n      return React.createElement(OrderCard, {\n        order: el,\n        key: el._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      });\n    } else if (el.status === 'delivered' && type === 'delivered') {\n      return React.createElement(OrderCard, {\n        order: el,\n        key: el._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      });\n    }\n  }).sort((a, b) => {\n    const aValue = a.props.order.dateEntry;\n    const bValue = b.props.order.dateEntry;\n\n    if (new Date(aValue) > new Date(bValue)) {\n      return 1;\n    } else if (new Date(aValue) < new Date(bValue)) {\n      return -1;\n    } else {\n      return 0;\n    }\n  }))));\n};\n\nexport default Pedidos;","map":{"version":3,"sources":["/home/maga/Desktop/hackatone/src/components/Cocina/index.js"],"names":["React","useState","useEffect","Header","OrderCard","Options","getOrders","user","JSON","parse","localStorage","getItem","Pedidos","props","orders","setOrders","type","setType","interval","_id","then","data","console","log","processId","setInterval","clearInterval","length","map","el","status","sort","a","b","aValue","order","dateEntry","bValue","Date"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AAEA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;;AACA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AAAA,oBACGZ,QAAQ,CAAC,EAAD,CADX;AAAA;AAAA,QAClBa,MADkB;AAAA,QACVC,SADU;;AAAA,qBAEDd,QAAQ,CAAC,SAAD,CAFP;AAAA;AAAA,QAElBe,IAFkB;AAAA,QAEZC,OAFY;;AAIzBf,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,QAAQ,GAAG,MAAM;AAErBZ,MAAAA,SAAS,CAACI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,EAA+BJ,IAAI,CAACY,GAApC,CAAT,CAAkDC,IAAlD,CAAwDC,IAAD,IAAU;AAC/DC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAN,QAAAA,SAAS,CAACM,IAAD,CAAT;AACD,OAHD;AAKD,KAPD;;AAQAH,IAAAA,QAAQ;AACR,UAAMM,SAAS,GAAGC,WAAW,CAACP,QAAD,EAAW,IAAX,CAA7B;AACA,WAAO,MAAMQ,aAAa,CAACF,SAAD,CAA1B;AAED,GAbQ,EAaN,EAbM,CAAT;AAeA,SACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,UAAU,EAAEX,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAmC,IAAA,IAAI,EAAC,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAE,MAAMI,OAAO,CAAC,SAAD,CAA7B;AAA0C,IAAA,OAAO,EAAC,YAAlD;AAA+D,IAAA,MAAM,EAAC,iBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAE,MAAMA,OAAO,CAAC,WAAD,CAA7B;AAA4C,IAAA,OAAO,EAAC,YAApD;AAAiE,IAAA,MAAM,EAAC,UAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAKE;AAAS,mBAAY,KAArB;AAA2B,IAAA,SAAS,EAAC,mCAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,MAAM,CAACa,MAAP,KAAkB,CAAlB,IACC;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAFJ,EAKGb,MAAM,CAACa,MAAP,KAAkB,CAAlB,IACCb,MAAM,CAACc,GAAP,CAAWC,EAAE,IAAI;AACf,QAAI,CAACA,EAAE,CAACC,MAAH,KAAc,SAAd,IAA2BD,EAAE,CAACC,MAAH,KAAc,UAA1C,KAAyDd,IAAI,KAAK,SAAtE,EAAiF;AAC/E,aAAO,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAEa,EAAlB;AAAsB,QAAA,GAAG,EAAEA,EAAE,CAACV,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFD,MAEO,IAAIU,EAAE,CAACC,MAAH,KAAc,WAAd,IAA6Bd,IAAI,KAAK,WAA1C,EAAuD;AAC5D,aAAO,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAEa,EAAlB;AAAsB,QAAA,GAAG,EAAEA,EAAE,CAACV,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACF,GAND,EAMGY,IANH,CAMQ,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAChB,UAAMC,MAAM,GAAGF,CAAC,CAACnB,KAAF,CAAQsB,KAAR,CAAcC,SAA7B;AACA,UAAMC,MAAM,GAAGJ,CAAC,CAACpB,KAAF,CAAQsB,KAAR,CAAcC,SAA7B;;AACA,QAAI,IAAIE,IAAJ,CAASJ,MAAT,IAAmB,IAAII,IAAJ,CAASD,MAAT,CAAvB,EAAyC;AACvC,aAAO,CAAP;AACD,KAFD,MAEO,IAAI,IAAIC,IAAJ,CAASJ,MAAT,IAAmB,IAAII,IAAJ,CAASD,MAAT,CAAvB,EAAyC;AAC9C,aAAO,CAAC,CAAR;AACD,KAFM,MAEA;AACL,aAAO,CAAP;AACD;AACF,GAhBD,CANJ,CALF,CAFF,CADF;AAoCD,CAvDD;;AAwDA,eAAezB,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from '../Header'\nimport OrderCard from './order-card';\nimport Options from '../Options'\nimport getOrders from '../../controller/orders/getOrder'\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst Pedidos = (props) => {\n  const [orders, setOrders] = useState([]);\n  const [type, setType] = useState('pending');\n\n  useEffect(() => {\n    const interval = () => {\n\n      getOrders(localStorage.getItem('token'),user._id).then((data) => {\n        console.log(data)\n        setOrders(data)\n      })\n\n    }\n    interval();\n    const processId = setInterval(interval, 2000)\n    return () => clearInterval(processId)\n\n  }, []);\n\n  return (\n    <div className=\"container-fluid\">\n      <Header logoutprop={props} />\n      <div className=\"w-100\">\n        <ul className=\"nav nav-tabs w-100\" role=\"tablist\">\n          <Options click={() => setType('pending')} options=\"Pendientes\" aClass=\"nav-link active\" />\n          <Options click={() => setType('delivered')} options=\"Entregados\" aClass=\"nav-link\" />\n        </ul>\n        <section data-testid=\"opt\" className=\"row w-100 justify-content-between\">\n          {orders.length === 0 &&\n            <div className=\"mt-5 w-100 text-align\">\n              No hay Ã³rdenes pendientes.\n            </div>}\n          {orders.length !== 0 &&\n            orders.map(el => {\n              if ((el.status === 'pending' || el.status === 'canceled') && type === 'pending') {\n                return <OrderCard order={el} key={el._id} />\n              } else if (el.status === 'delivered' && type === 'delivered') {\n                return <OrderCard order={el} key={el._id} />\n              }\n            }).sort((a, b) => {\n              const aValue = a.props.order.dateEntry;\n              const bValue = b.props.order.dateEntry;\n              if (new Date(aValue) > new Date(bValue)) {\n                return 1;\n              } else if (new Date(aValue) < new Date(bValue)) {\n                return -1;\n              } else {\n                return 0;\n              }\n            })\n          }\n        </section>\n      </div>\n    </div>\n  )\n}\nexport default Pedidos"]},"metadata":{},"sourceType":"module"}