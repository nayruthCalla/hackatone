{"ast":null,"code":"import _slicedToArray from \"/home/marjorie/Documentos/belcorp-frontend/hackatone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/marjorie/Documentos/belcorp-frontend/hackatone/src/components/Products/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport Header from '../Header';\nimport Clientname from './Cliente';\nimport Direccion from './Address';\nimport Products from './Products';\nimport Pedido from './Pedido';\nimport MenuOpts from '../Options';\nimport postOrders from '../../controller/orders/orders';\nimport ctrl from '../../controller/products';\nimport { Catalogue } from './Catalogue';\n\nconst Home = props => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        address = _useState4[0],\n        setAddress = _useState4[1];\n\n  const _useState5 = useState('ESIKA'),\n        _useState6 = _slicedToArray(_useState5, 2),\n        type = _useState6[0],\n        setType = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        prodData = _useState8[0],\n        setProdData = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        items = _useState10[0],\n        setItems = _useState10[1];\n\n  const _useState11 = useState(true),\n        _useState12 = _slicedToArray(_useState11, 2),\n        show = _useState12[0],\n        setShow = _useState12[1];\n\n  const updateName = e => {\n    setName(e.target.value);\n  };\n\n  const mapFunc = fn => id => {\n    setItems(fn(items, id));\n  };\n\n  const increase = mapFunc(ctrl.increase);\n  const decrease = mapFunc(ctrl.decrease);\n  const remove = mapFunc(ctrl.delete);\n\n  const userId = JSON.parse(localStorage.getItem('user'))._id;\n\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    fetch(\"http://165.22.166.131:4000/products\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      }\n    }).then(resp => resp.json()).then(data => {\n      // console.log(data)\n      setProdData(data);\n    });\n  }, []);\n  console.log(prodData);\n  return React.createElement(React.Fragment, null, React.createElement(Header, {\n    logoutprop: props,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"main\", {\n    id: \"menu\",\n    className: \"container-fluid d-flex flex-wrap align-content-around\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(Clientname, {\n    name: name,\n    updateName: updateName,\n    show: show,\n    setShow: setShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(Direccion, {\n    name: address,\n    updateName: updateAddress,\n    show: show,\n    setShow: setShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"section\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"nav nav-tabs w-100\",\n    role: \"tablist\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(MenuOpts, {\n    click: () => setType('ESIKA'),\n    options: \"ESIKA\",\n    aClass: \"nav-link active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(MenuOpts, {\n    click: () => setType('CYZONE'),\n    options: \"CYZONE\",\n    aClass: \"nav-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    \"data-testid\": \"opt\",\n    className: \"card-columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, type === 'ESIKA' && React.createElement(Products, {\n    data: prodData,\n    brand: \"ESIKA\",\n    add: increase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), type === 'CYZONE' && React.createElement(Products, {\n    data: prodData,\n    brand: \"CYZONE\",\n    add: increase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }))), React.createElement(Pedido, {\n    items: ctrl.mix(prodData, items),\n    remove: remove,\n    decrease: decrease,\n    increase: increase,\n    postOrder: () => {\n      postOrders(name, items.map(el => ({\n        product: el._id,\n        qty: el.qty\n      })), token, userId).then(order => {\n        console.log(order);\n        setItems([]);\n        setName(\"\");\n        setShow(true);\n      }).catch(console.error);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/home/marjorie/Documentos/belcorp-frontend/hackatone/src/components/Products/index.js"],"names":["React","useState","useEffect","Header","Clientname","Direccion","Products","Pedido","MenuOpts","postOrders","ctrl","Catalogue","Home","props","name","setName","address","setAddress","type","setType","prodData","setProdData","items","setItems","show","setShow","updateName","e","target","value","mapFunc","fn","id","increase","decrease","remove","delete","userId","JSON","parse","localStorage","getItem","_id","token","fetch","method","headers","then","resp","json","data","console","log","updateAddress","mix","map","el","product","qty","order","catch","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from '../Header';\nimport Clientname from './Cliente';\nimport Direccion from './Address'\nimport Products from './Products';\nimport Pedido from './Pedido'\nimport MenuOpts from '../Options';\nimport postOrders from '../../controller/orders/orders'\nimport ctrl from '../../controller/products';\nimport { Catalogue } from './Catalogue';\n\nconst Home = (props) => {\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [type, setType] = useState('ESIKA')\n  const [prodData, setProdData] = useState([]);\n  const [items, setItems] = useState([]);\n  const [show, setShow] = useState(true)\n\n  const updateName = (e) => {\n    setName(e.target.value)\n  }\n\n\n  const mapFunc = (fn) => (id) => {\n    setItems(fn(items, id))\n  }\n\n  const increase = mapFunc(ctrl.increase)\n  const decrease = mapFunc(ctrl.decrease)\n  const remove = mapFunc(ctrl.delete)\n  const userId = JSON.parse(localStorage.getItem('user'))._id;\n  const token = localStorage.getItem('token')\n\n  useEffect(() => {\n    fetch(`http://165.22.166.131:4000/products`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('token')\n      },\n    }).then(resp => resp.json())\n      .then(data => {\n        // console.log(data)\n        setProdData(data)\n      })\n  }, [])\n\n  console.log(prodData)\n\n  return (\n    <>\n      <Header logoutprop={props} />\n      <main id=\"menu\" className=\"container-fluid d-flex flex-wrap align-content-around\">\n        <Clientname name={name} updateName={updateName} show={show} setShow={setShow} />\n        <Direccion name={address} updateName={updateAddress} show={show} setShow={setShow} />\n\n        <section className=\"row\">\n        {/* <Catalogue /> */}\n          <div className=\"col-md-6\">\n            <ul className=\"nav nav-tabs w-100\" role=\"tablist\">\n              <MenuOpts click={() => setType('ESIKA')} options=\"ESIKA\" aClass=\"nav-link active\" />\n              <MenuOpts click={() => setType('CYZONE')} options=\"CYZONE\" aClass=\"nav-link\" />\n            </ul>\n            <div data-testid='opt' className=\"card-columns\">\n              {type === 'ESIKA' && (\n                <Products Â data={prodData} brand=\"ESIKA\" add={increase} />\n              )}\n              {type === 'CYZONE' && (\n                <Products  data={prodData} brand=\"CYZONE\" add={increase} />\n              )}\n            </div>\n          </div>\n          \n\n          <Pedido\n            items={ctrl.mix(prodData, items)}\n            remove={remove} decrease={decrease}\n            increase={increase}\n            postOrder={() => {\n              postOrders(name,\n                items.map(el => ({ product: el._id, qty: el.qty })),\n                token,\n                userId)\n                .then((order) => {\n                  console.log(order)\n                  setItems([]);\n                  setName(\"\");\n                  setShow(true)\n                })\n                .catch(console.error)\n            }} />\n        </section>\n\n      </main>\n    </>\n  )\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}