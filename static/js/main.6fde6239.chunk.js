(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/atrasicon.ab518bcd.png"},43:function(e,t,a){e.exports=a.p+"static/media/cyzone1.4a7b8335.jpg"},44:function(e,t,a){e.exports=a.p+"static/media/cyzone2.be7818bf.jpg"},45:function(e,t,a){e.exports=a.p+"static/media/esika1.7f8b8f8b.jpg"},46:function(e,t,a){e.exports=a.p+"static/media/esika2.d1875cf9.jpg"},47:function(e,t,a){e.exports=a.p+"static/media/esika5.e215788b.jpg"},50:function(e,t,a){e.exports=a.p+"static/media/camp12.0b349bfc.jpg"},51:function(e,t,a){e.exports=a.p+"static/media/camp13.f65a91d7.jpg"},52:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAsCAYAAADYQc64AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoZSURBVHgB7VoJVFTXGf7vfW9GBrACAnFtRZOIHBNchrgk0WgwVjxuGRhAW6ONFdncUo/WHu3YWmProbEIqMfTWj3KMkI0GjUqHtpGiMtoClpcQsVsWkUNHBZnee/e/m8IwzBs0Q4ZTo/f8Tn33fu/u/z3/vffIPA94cjpf/a3cW8dAJsGnI8BQvyx+iHhZL8MsDV6ytCb0I1AoIvxfuHV3hzgHRwqBQfr2Q7ZHYFBzKw3Qouhm6BLGVNwqnwsnoyDBEif9mg48Hr870tKKANKckvJ1+8aJk2SwMMQoYtQcLJ8DiE0G4teLRqQE5zABULJRwTY4TmTQi8RQnh67rlwjYo/eC64t3KqvgEPo0sYc+h0xXiZS7vBhSnIkGt4gtZqLPRYVNRzlqb6zJzzA4HQIqsEsvW2ZRNWvQcehttF6WBRpR+Xzdew62cclRysnPO1KnP99pkztQ3O9Onpx3oIfZ45hefoVTspBwY2iEj5qfYSeBBuPzFcsvwRT0UzUwh8DiAt0U0Z/pErbfq+s2FUJWxtYoqdnABlIh+Jxf8fxuQWXo/ARb7VXEPuShKfpJ86vNKZbsve4mBvdY8VKFqL8cgGuPYjiMJt8DDcyhgVY0moWWjjG3+INRP0U4dUutL5eqmnMg5r2pJj1GB11Q228+BhUHAT3i+uCKaUxHz7auNUSH0zcsgNV7qCk1cW+Pt6lXDO0pAx1lYdcVi39q0xD8DDcBtjiFmeioacT2OvZItu8vPZbY8opKrVqpJ+gb0qUZ0vQu1d3dwJfJAYO+pP0A3gPlHi8HrjL79T9o/cdW2RGI1coPx6H7xbgpEw4xk/zS0rIysfVNfFITMt3vUBcYpNA90AbmMMatkf2bU/EVcZDAbW5mAB1/xQHfs5rARKBqkp7Ogb6HscZHHxm/oQM3QTuE2UcLEDkT2feVmfzW+PggHpj/rY26Vajc8sIspF+aeuD4ZuArcwRhERNGtDOCGFUVHE0sFgL7TXhgZgGAVuyj/2r5HQDeAWxpjFkt5AOGWMGzuiw8vjxY7aUcL8aQ/h8KETlweCh+EWxvh4+apx0TUc1J92RIdWbWWnlyuHAZyqdnDF1fQg3MIYIoAVF11x78E3Qzqikx5If2Gc/xk6AbIkCuM4UeBBuIUxZZ+8+BB3uhKt1mHbjKZ27xG9frj18pncBLRdfoEnouOYCyEzwYNwC2MMBiLhub+KMhIkotHWMa2B6SKHpYFAdEj/eXt06Ev2Bw/Cbepa5rxUlqwyYywxTYmvdALd5NDDILFxeOecbqsd7aJH4EG4jTGUiLdFUY2OI6g0lB7ZmW0K7Owb3Y/D7sye/PwUzuC3rm0C5yXgQbiNMXVyzzIqsnKljCISbhN4dsaec707+07RUro3QtfjpeyI2ikazmq2GsGDcLtKzMw1lWOvw+wvnH/Fmfyz5PgxhR2p6Yy8SxMosdb38ff7PX77OgeySRc59FfgQbidMVk5pumcwocu1YrGKmDAihgRbhGJMYGzAUykY3ECmGuCEficCfL3ShUF1cesQR4VPSPsM/AgusSI2p53KR+ZoHucb3Aitr7BQjCVNStnRYauBw/DjU5kM1TEvBittOOP8w3KWYUNVJKFq9KgG6DLzO4Yo1F4TR68Ga3YlUqAGzqehcQJj06JifgAugm63B/JPPDpeGBsAV7E0YqT2AbJGWTc5iS99ih0I3xvjpoRT9B9NiQCL+FBDHgvxqVagZGzSfNe6lbJ/Kd4iqdwKwjKvrrppbw8RkJPuUUg21DExbCqAy20ygH0GQ/o9bJS3rnTpCr0v8ma3tuCkp9mgQP9uEWyrFg4srotmt27K71qAup6We7XNKx++5Va1/aW8yxn6KW3CFsYDJyGhR0QO1rL44Bk5l38uvmNm9GguGoh1vkr9eMVhxA27Tie3ss/uKWxxllWclzE75RiZp7pKNos95LjRi907dyustngNIy/6NAlCEBbxYqOwWXk4MalcdqTjQsu0VTxHu/h2NNxbCVd24DlCzZK1yyPHl1mH8N4xRcDqMU4jt0xRS0moZarQLqkJH3EdaVuW55pNsXlOKYI/BFqlhNV5OYKg15vhccEngTeDzsoZiAl42AZOPlIL/Ba5uAVkJ5I48NleQWq3WXKg0nY5kwAJ8E4ib5tMWUSD9mFLlICBrmPYDw4ngBPwg5rMWMZrtDsLiryquIqTMzxeZhCKMAF6zG98kssD1XJ/MNMY8mzjg4Z9MMNuaiMj77Ub3CeY4FTh1cuAPFV1oLO6B8UGlyY4oQmBbGQOHgCiI1j8rLU2DGHtuwt9dH0sK4GJgU5Eyne7v0bx/Lbyxe1hdekweMwd7BQAGHtkriR7zo15ew0mVRKoe6e73Tc5dm486nJsREZTQQ7jaaTEuMVBNTK38rom+dBbqTEa+2bkpV3cSZGAUe0GpjBieS5EdewlJ+ZdyGFczoRy3vhMdEkk/EoUhOB2ILxBGhEtWqrMxGeqF5BodOzs/Jm4Fz43eQ47fLOOpa4FCZi91xFW8V4E7Ra27eLeJlT/tAKthY0CXrtFyiiB7E4zmA47MhD4Snom557dqxAhQHIpleQUe1ayllIh+kcDX70b3gC2C9VlP8qFIcLuHtFShbaZpPfdiVE074emVKPd0Ttd+lYEERB+VVb5HaznSg6KGmE2WpZKxrS+I8GBIiy0xxiBCKexoIRg1tfPbLcX9PqOwqlGXkmCyfCJ8j4Mh81zYIngJ0xuODClFjt2kT96OWcs0PIpJXORHZRunr053hSFiXFa9d9t57xckSYKYtvUY9pEYOhSGzsl5bh8gN9fTQtAt/p+0oH4G5PRA/94tKlURanieyiFksIzncXzim0h6RpFeMhFO8xLusIYxN6WlUTFs5pWwt2BvsEceMCMvefH4GbF4TlSKyocCUMCo0avS1nmn0iIvEyJ8aFX3FMhvAfbMs5p3V0Ksh3EvURp7KMpqN4mW7MNJoCbZKUI4iqQGq8mArDevrg4qZu2LBhT3DYjJ/gRuxAUe6PF/xRIpJhwK0bkbNqgYnLnOeAgz9KnP/yva3Zl9eLgmWB6OOtbNJSZxomkeLUuWOuwf8I5cQ04JAJINJiIggF+F5FGHGoXkEULXimA3Er/kap8HflYcS22dGDouKBhDe1KY/M1ZFKU71ZFYsM2IPMSVAJYilh/BS+D0Lr4q9KRM9+mdsaovEU5SH5r4lAr+Dqc3Ba/8Fc1bTE+JG3mpkPDUrMRikvn/vCXdzArag09Nv2NaZrUMxsjWtxD0TlaDa9yL6inDznpYfOYcg+6qB36i11LQJHZtnbYRdwlTxbqJME53Yf8K1XflfND1d+l2w2mlb7APxQEFi9MIh+6bh8EUnzXlX+dHVR1v6PV8lcM0ASpNqa62O/cDbOkvXD67bvLY6otXFH5iA5dtSa7XtL0prGEr3QJKi2hMjVNTXwFF2H/wJ/nBwdtbV19wAAAABJRU5ErkJggg=="},54:function(e,t,a){e.exports=a.p+"static/media/bq.505ee41b.jpg"},61:function(e,t,a){e.exports=a(76)},66:function(e,t,a){},67:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),l=a.n(c),o=(a(66),a(67),a(16)),i=a(6),s=a(22),m=a(40),u=a.n(m),d=a(8),p=a(11),g=new(function(){function e(){Object(d.a)(this,e),this.authenticated=!1}return Object(p.a)(e,[{key:"login",value:function(e){this.authenticated=!0,e()}},{key:"logout",value:function(e){this.authenticated=!1,e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),f=a(23);function E(){var e=Object(s.a)(["\n  display: inline-block;\n  padding-left: 20px;\n"]);return E=function(){return e},e}var b=f.a.li(E()),h=function(e){var t=e.click,a=e.options,n=e.aClass;return r.a.createElement(b,{className:"nav-item",onClick:t},r.a.createElement("a",{className:n,"data-toggle":"tab",href:"#",role:"tab"},r.a.createElement("img",{src:a,alt:"img",className:"img-fluid max-50"})))};function v(){var e=Object(s.a)(["\n  padding: 5px;\n  background: #333333;\n"]);return v=function(){return e},e}var y=f.a.header(v()),N=function(e){var t=e.logoutprop,a=e.handlerE,n=e.handlerC;return r.a.createElement(y,{"data-testid":"header",className:"width-100 mt-2 mb-4 d-flex height-60"},r.a.createElement("ul",{className:"width-100 nav "},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{onClick:function(){g.login(function(){t.history.push("/home")})},className:"text-center align-self-start mb-4 border-none transparent cursor"},r.a.createElement("img",{src:u.a,alt:"img",className:"img-fluid max-50"}))),r.a.createElement(h,{click:a,options:"https://d1mmiz9ub7pgyo.cloudfront.net/Lannding/LandingDigitalPeru/esika_logo_white.png",aClass:"nav-link active"}),r.a.createElement(h,{click:n,options:"https://d1mmiz9ub7pgyo.cloudfront.net/Lannding/LandingDigitalPeru/cyzone_logo_white.png",aClass:"nav-link active"}),r.a.createElement(h,{click:n,options:"https://d1mmiz9ub7pgyo.cloudfront.net/Lannding/LandingDigitalPeru/lbel_logo_white.png",aClass:"nav-link active"})))},x=function(e){var t=e.name,a=e.updateName,n=e.show,c=e.setShow;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(!0!==n)},className:"d-flex align-items-center  my-4"},r.a.createElement("label",{className:"my-0 mr-2"},"Cliente: "),!0===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:t,onChange:a,placeholder:"Nombre",className:"name-value form-control"}),r.a.createElement("button",{"data-testid":"submit",className:"checkBtn ml-3 btn btn-color padding-10 mt-0"},r.a.createElement("i",{className:"fas fa-check"}))),!1===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{"data-testid":"change-name",className:"pValue my-0"},t),r.a.createElement("button",{"data-testid":"edit",className:"checkBtn ml-3 btn btn-color padding-10 mt-0"},"Editar")))},A=function(e){var t=e.address,a=e.updateAddress,n=e.show,c=e.setShow;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(!0!==n)},className:"d-flex align-items-center  my-4","data-test-id":"div"},r.a.createElement("label",{className:"my-0 mr-2"},"Direcci\xf3n: "),!0===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:t,onChange:a,placeholder:"Direcci\xf3n",className:"name-value form-control"}),r.a.createElement("button",{"data-testid":"submit",className:"checkBtn ml-3 btn btn-color padding-10 mt-0"},r.a.createElement("i",{className:"fas fa-check"}))),!1===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{"data-testid":"change-name",className:"pValue my-0"},t),r.a.createElement("button",{"data-testid":"edit",className:"checkBtn ml-3 btn btn-color padding-10 mt-0"},"Editar")))},j=function(e){var t=e.data,a=e.brand,n=e.add;return t.filter(function(e){return e.brand===a}).map(function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},e.nameOfProduct),r.a.createElement("img",{className:"card-img",src:e.image,alt:e.nameOfProduct}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",null,e.brand),r.a.createElement("h5",null,"S/. ",e.price)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{key:e._id,onClick:function(){n(e._id)},className:"btn btn-dark btn-lg"},"Agregar")))})},O=function(e){var t=e.item,a=e.remove,n=e.increase,c=e.decrease;return r.a.createElement("tr",{"data-testid":"list-".concat(t._id),className:"d-flex width-100 text-align border-bottom my-2"},r.a.createElement("td",{className:"d-flex col-5 text-align-left"},r.a.createElement("p",{className:"my-0 text-gray"},t.nameOfProduct)),r.a.createElement("td",{className:"col-4"},r.a.createElement("p",{className:"my-0 text-gray"},"S/. ",t.total),r.a.createElement("button",{"data-testid":"takeQty",onClick:function(){return c(t._id)},className:"border-none transparent"},r.a.createElement("i",{className:"btn btn-secondary btn-sm"},"-")),r.a.createElement("span",{"data-testid":"qty",className:"text-gray"},t.qty),r.a.createElement("button",{"data-testid":"addQty",onClick:function(){return n(t._id)},className:"border-none transparent"},r.a.createElement("i",{className:"btn btn-secondary btn-sm"},"+")),r.a.createElement("button",{onClick:function(){a(t._id)},className:"border-none transparent padding-trash"},r.a.createElement("i",{className:"btn btn-danger btn-sm"},"x"))))},w=function(e){var t=e.items,a=e.remove,n=e.increase,c=e.decrease,l=e.postOrder,o=t.reduce(function(e,t){return{total:e.total+t.total}},{total:0}),i=t.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"d-flex  column  "},r.a.createElement("thead",{className:"width-100"},r.a.createElement("tr",{className:"d-flex width-100 text-align background-gray align-items-center my-2"},r.a.createElement("th",{className:"col-4 my-1"},"Producto"),r.a.createElement("th",{className:"col-4 my-1"},"Precio"))),r.a.createElement("tbody",{className:"width-100"},t.map(function(e){return r.a.createElement(O,{item:e,key:e._id,remove:a,increase:n,decrease:c})}),r.a.createElement("tr",{className:" d-flex width-100 text-align background-gray align-items-center border-top"},r.a.createElement("td",{className:"col-4 my-1"},"Articulos: ",i),r.a.createElement("td",{className:"col-4 my-1"},"Total: S/. ",o.total)))),r.a.createElement("br",null),r.a.createElement("button",{onClick:l,className:"btn-color btn btn-dark "},"Confirmar Pedido"))},k=function(e,t,a,n,r){return fetch("http://165.22.166.131:4000/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify({consultoraId:r,client:e,direccion:t,products:a})}).then(function(e){return 200===e.status?e.json():400===e.status?Promise.reject({message:"Ingrese productos a la orden"}):401===e.status?Promise.reject({message:"No existe token v\xe1lido"}):Promise.reject({message:e.statusText})})},S=a(19),I=a(9);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var P={delete:function(e,t){return e.filter(function(e){return e._id!==t})},increase:function(e,t){return e.map(function(e){return e._id}).includes(t)?e.map(function(e){return e._id===t?{_id:t,qty:e.qty+1}:e}):[].concat(Object(I.a)(e),[{_id:t,qty:1}])},decrease:function(e,t){return e.filter(function(e){return e.qty>1}).map(function(e){return e._id}).includes(t)?e.map(function(e){return e._id===t?{_id:t,qty:e.qty-1}:e}):P.delete(e,t)},mix:function(e,t){var a=[];return e.forEach(function(e){return t.forEach(function(t){e._id===t._id&&a.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{qty:t.qty,total:t.qty*e.price}))})}),a}},B=P,D=a(43),M=a.n(D),q=a(44),F=a.n(q),Y=a(45),T=a.n(Y),K=a(46),G=a.n(K),R=a(47),U=a.n(R),J=[{url:M.a,brand:"CYZONE"},{url:F.a,brand:"CYZONE"},{url:T.a,brand:"ESIKA"},{url:G.a,brand:"ESIKA"},{url:U.a,brand:"ESIKA"}],z=a(80),V=function(e){e.handler;var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],l=a[1];return r.a.createElement(z.a,{style:{width:"800px",height:"50vh"},index:c,onRequestChange:function(e){l(e)}},J.map(function(e){return r.a.createElement(z.b,{src:e.url})}))},Q=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)("ESIKA"),p=Object(i.a)(d,2),g=p[0],f=p[1],E=Object(n.useState)([]),b=Object(i.a)(E,2),h=b[0],v=b[1],y=Object(n.useState)([]),O=Object(i.a)(y,2),S=O[0],I=O[1],C=Object(n.useState)(!0),P=Object(i.a)(C,2),D=P[0],M=P[1],q=function(e){return function(t){I(e(S,t))}},F=q(B.increase),Y=q(B.decrease),T=q(B.delete),K=JSON.parse(localStorage.getItem("user"))._id,G=localStorage.getItem("token");Object(n.useEffect)(function(){fetch("http://165.22.166.131:4000/products",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return e.json()}).then(function(e){v(e)})},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{logoutprop:e,handlerE:function(){f("ESIKA")},handlerC:function(){f("CYZONE")}}),r.a.createElement("main",{id:"menu",className:"container-fluid d-flex flex-wrap align-content-around"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(V,null),r.a.createElement("div",{"data-testid":"opt",className:"card-columns"},"ESIKA"===g&&r.a.createElement(j,{data:h,brand:"ESIKA",add:F}),"CYZONE"===g&&r.a.createElement(j,{data:h,brand:"CYZONE",add:F}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h3",{className:"text-align"},"PEDIDO"),r.a.createElement(x,{name:c,updateName:function(e){l(e.target.value)},show:D,setShow:M}),r.a.createElement(A,{name:m,updateAddress:function(e){u(e.target.value)},show:D,setShow:M}),r.a.createElement(w,{items:B.mix(h,S),remove:T,decrease:Y,increase:F,postOrder:function(){k(c,m,S.map(function(e){return{product:e._id,qty:e.qty}}),G,K).then(function(e){console.log(e),I([]),l(""),u(""),M(!0)}).catch(console.error)}})))))},H=function(e){var t=e.name,a=e.click,n=e.imgMenu;return r.a.createElement("div",{className:"container-menu",onClick:a},r.a.createElement("h1",null,t),r.a.createElement("img",{src:n,alt:"Menu",className:" img-fluid mb-4 "}))},W=a(50),L=a.n(W),Z=a(51),X=a.n(Z),_=a(52),$=a.n(_),ee=function(e){var t=e.logoutprop;return r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{class:"navbar-brand"},r.a.createElement("img",{src:$.a})),r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{class:"navbar-nav"},r.a.createElement("a",{class:"nav-item nav-link active"}," Home ",r.a.createElement("span",{class:"sr-only"},"(current)")),r.a.createElement("a",{class:"nav-item nav-link",onClick:function(){return g.login(function(){t.history.push("/pedidos")})}},"Listado de Ordenes"),r.a.createElement("a",{class:"nav-item nav-link"},"Premios"),r.a.createElement("a",{class:"nav-item nav-link disabled",tabindex:"-1","aria-disabled":"true"},"Reuniones"))))},te=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{logoutprop:e}),r.a.createElement("section",{className:"fill-available mb-4 container-fluid flex-wrap align-content-around justify-content-center"},r.a.createElement(H,{click:function(){return g.login(function(){e.history.push("/orders")})},name:"CAMPA\xd1A 12-2019",imgMenu:L.a}),r.a.createElement(H,{name:"CAMPA\xd1A 13-2019",imgMenu:X.a})))},ae=a(31),ne=a.n(ae),re=a(53),ce=function(e){var t=e.divInput,a=e.type,n=e.value,c=e.label,l=e.update,o=e.placeholder,i=e.icon,s=e.classValue,m=e.visibility;return r.a.createElement("div",{className:t},r.a.createElement("input",{type:a,value:n,onChange:l,className:s,"aria-label":c,placeholder:o,required:!0}),r.a.createElement("div",{className:m},r.a.createElement("div",{className:"btn btn-outline-secondary icon-color border-none radius-50",disabled:!0},r.a.createElement("i",{className:i}))))},le=function(e,t){return fetch("http://165.22.166.131:4000/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(e){return 200===e.status?e.json():400===e.status?Promise.reject({message:"Ingrese su usuario y/o contrase\xf1a"}):401===e.status?Promise.reject({message:"Ingrese correctamente su usuario y/o contrase\xf1a"}):Promise.reject({message:e.statusText})})},oe=function(e){return fetch("http://165.22.166.131:4000/users/".concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){return 200===e.status?e.json():401===e.status?Promise.reject({message:"No hay cabecera de autenticaci\xf3n"}):Promise.reject({message:e.statusText})})},ie=function(e){var t=e.logprop,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),E=f[0],b=f[1];return r.a.createElement("form",{onSubmit:function(){var e=Object(re.a)(ne.a.mark(function e(a){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,le(l,u).then(function(e){localStorage.setItem("token",e.token)}).catch(function(e){b(e.message)});case 3:oe(l).then(function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e)),g.login(function(){t.history.push("/home")})}).catch(console.error);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),className:"col-12 flex-column d-flex form-group","data-testid":"form"},r.a.createElement(ce,{divInput:"input-group form-group radius-50 white",type:"email",value:l,label:"Email",update:function(e){return o(e.target.value)},placeholder:"Email",classValue:"emailValue form-control border-none radius-50",visibility:"input-group-append border-none radius-50"}),r.a.createElement(ce,{divInput:"input-group form-group radius-50 white",type:"password",value:u,label:"Password",update:function(e){return d(e.target.value)},placeholder:"Password",classValue:"passwordValue form-control border-none radius-50",visibility:"input-group-append border-none radius-50"}),r.a.createElement("button",{"data-testid":"login",type:"submit",className:"btn btn-color"},"Ingresar"),E&&r.a.createElement("p",{"data-testid":"errMsg",className:"pt-3 text-danger"},"*",E))},se=function(e){var t=e.imgSrc,a=e.cssClass,n=e.imgClass;return r.a.createElement("div",{className:a},r.a.createElement("img",{src:t,alt:"img",className:n}))},me=a(54),ue=a.n(me),de=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-login"},r.a.createElement("main",{"data-testid":"login",className:"container d-flex fill-available justify-content-center align-items-center"},r.a.createElement("div",{className:"col-lg-6 border-login"},r.a.createElement("header",{className:""},r.a.createElement("h4",{className:"col-lg-6 justify-content-center align-items-center"},"Bienvenidx")),r.a.createElement("section",{className:"col-lg-12 opacyty-login opacyty-login-top opacyty-login-top"},r.a.createElement("div",{className:"col-lg-12 py-3 d-flex align-items-center form-style flex-column "},r.a.createElement(ie,{logprop:e})))),r.a.createElement(se,{imgSrc:ue.a,cssClass:"col-lg-6 justify-content-center text-align img",imgClass:"img-fluid"}))))},pe=function(e){var t=e.el,a=Object(n.useState)(!0),c=Object(i.a)(a,2),l=c[0],o=c[1];return r.a.createElement("li",{className:"list-group-item"},r.a.createElement("label",{"data-testid":t.product.name,style:{textDecoration:l?"":"line-through"}},r.a.createElement("input",{"data-testid":t.product.productId,onChange:function(){return o(!l)},type:"checkbox"})," ",t.qty," unid. ",t.product.name))},ge=function(e,t,a,n,r,c){return fetch("http://165.22.166.131:4000/orders/".concat(c),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({status:r})}).then(function(e){return 200===e.status?e.json():400===e.status?Promise.reject({message:"Propiedad inv\xe1lida a modificar"}):401===e.status?Promise.reject({message:"No existe token v\xe1lido"}):404===e.status?Promise.reject({message:"Orden inv\xe1lida"}):Promise.reject({message:e.statusText})})},fe=function(e){var t=e.order,a=new Date(t.dateEntry),c=new Date(t.dateProcessed),l=t.products,o=Object(n.useState)(!0),s=Object(i.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)((Date.now()-a.getTime())/1e3),p=Object(i.a)(d,2),g=p[0],f=p[1],E=(c.getTime()-a.getTime())/1e3;return Object(n.useEffect)(function(){var e=null;return"delivered"===t.status&&u(!1),m&&(e=setInterval(function(){f(g+1)},1e3)),function(){return clearInterval(e)}},[m,g]),r.a.createElement("div",{"data-testid":t._id,className:"col-sm-6 mt-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{"data-testid":t.client,className:"border-card-right pr-2"},"Cliente: ",t.client),r.a.createElement("div",{"data-testid":t.direccion,className:"border-card-right pr-2"},"Direcci\xf3n: ",t.direccion)),!0===m&&r.a.createElement("div",null,Math.floor(g.toFixed()/60)%60,":",g.toFixed()%60),!1===m&&r.a.createElement("div",null,Math.floor(E.toFixed()/60)%60,":",E.toFixed()%60)),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",{className:"list-group"},l&&l.map(function(e){return r.a.createElement(pe,{el:e,key:e.product.productId})}))),r.a.createElement("div",{className:"input-group card-footer"},r.a.createElement("select",{"data-testid":"name-".concat(t.client),onChange:function(e){ge(t.client,t.products,localStorage.getItem("token"),t.userId,e.target.value,t._id).then(console.log)},value:t.status,className:"custom-select",id:"inputGroupSelect02"},r.a.createElement("option",{value:"pending"},"Pending"),r.a.createElement("option",{value:"canceled"},"Canceled"),r.a.createElement("option",{"data-testid":"delivered-".concat(t.client),value:"delivered"},"Delivered")),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect02"},"Status")))))},Ee=function(e,t){return fetch("http://165.22.166.131:4000/list/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then(function(e){return 200===e.status?e.json():401===e.status?Promise.reject({message:"Ingrese token v\xe1lido"}):Promise.reject({message:e.statusText})})},be=JSON.parse(localStorage.getItem("user")),he=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)("pending"),s=Object(i.a)(o,2),m=s[0],u=s[1];return Object(n.useEffect)(function(){var e=function(){Ee(localStorage.getItem("token"),be._id).then(function(e){console.log(e),l(e)})};e();var t=setInterval(e,2e3);return function(){return clearInterval(t)}},[]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(N,{logoutprop:e}),r.a.createElement("div",{className:"w-100"},r.a.createElement("ul",{className:"nav nav-tabs w-100",role:"tablist"},r.a.createElement(h,{click:function(){return u("pending")},options:"Pendientes",aClass:"nav-link active"}),r.a.createElement(h,{click:function(){return u("delivered")},options:"Entregados",aClass:"nav-link"})),r.a.createElement("section",{"data-testid":"opt",className:"row w-100 justify-content-between"},0===c.length&&r.a.createElement("div",{className:"mt-5 w-100 text-align"},"No hay \xf3rdenes pendientes."),0!==c.length&&c.map(function(e){return"pending"!==e.status&&"canceled"!==e.status||"pending"!==m?"delivered"===e.status&&"delivered"===m?r.a.createElement(fe,{order:e,key:e._id}):void 0:r.a.createElement(fe,{order:e,key:e._id})}).sort(function(e,t){var a=e.props.order.dateEntry,n=t.props.order.dateEntry;return new Date(a)>new Date(n)?1:new Date(a)<new Date(n)?-1:0}))))},ve=a(55),ye=function(e){var t=e.component,a=Object(ve.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return g.isAuthenticated()||null!==localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/home",state:{from:e.location}}})}}))},Ne=function(){return r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:de}),r.a.createElement(ye,{exact:!0,path:"/orders",component:Q}),r.a.createElement(ye,{exact:!0,path:"/home",component:te}),r.a.createElement(ye,{exact:!0,path:"/pedidos",component:he}),r.a.createElement(o.b,{path:"*",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"ERROR 404"))}}))},xe=function(){return r.a.createElement("div",{className:"container-fluid d-flex col-12 fill-available body-color align-items-center column padding-login"},r.a.createElement(Ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=a(21);l.a.render(r.a.createElement(Ae.a,null,r.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[61,1,2]]]);
//# sourceMappingURL=main.6fde6239.chunk.js.map